{"version":3,"file":"angular-widget-grid.min.js","sources":["angular-widget-grid.js"],"names":["angular","module","directive","scope","rendering","highlight","options","restrict","replace","template","link","element","updateGridPreview","children","remove","showGrid","i","x","y","bar","cellHeight","grid","cellSize","height","cellWidth","width","rows","append","columns","resetHighlights","highlights","length","highlightArea","area","addClass","css","top","left","push","$watch","newRendering","newHighlight","isArray","gridDirective","controller","controllerAs","transclude","templateUrl","$element","$scope","$timeout","Grid","gridRenderer","addWidget","widget","vm","add","updateRendering","removeWidget","updateGridSize","parseInt","resize","updateOptions","extend","DEFAULT_OPTIONS","overlayOptions","highlightNextPosition","updateNextPositionHighlight","render","renderStrategy","assessAvailableGridSpace","$broadcast","gridHasSpaceLeft","hasSpaceLeft","usedToBeFull","$emit","updateWidget","newPosition","getPosition","setWidgetPosition","id","index","getWidgetIndex","nextPos","getNextPosition","getWidgetPosition","getWidgetStyle","getStyle","widgets","getPositions","gridContainer","rect","getBoundingClientRect","getClientRects","doc","ownerDocument","docElem","documentElement","window","pageYOffset","clientTop","pageXOffset","clientLeft","isObstructed","j","isAreaObstructed","rasterizeCoords","clientWidth","clientHeight","this","getWidgetRenderPosition","isPositionObstructed","gridUtil","require","pre","attrs","widgetCtrl","templateContent","getTemplate","innerCompile","$document","gridCtrl","onDown","event","onMove","preventDefault","isObject","originalEvent","touches","clientX","clientY","dragPositionX","Math","round","gridPositions","dragPositionY","requestedRender","min","max","moverOffset","startRender","currentFinalPos","determineFinalPos","startPos","widgetElement","onUp","off","eventMove","eventUp","finalPos","removeClass","widgetContainer","parentElement","bottom","right","offsetTop","offsetLeft","offsetX","layerX","offsetY","layerY","on","anchorTop","anchorLeft","floor","movedDown","movedRight","finalPosRequest","path","getPathIterator","hasNext","currPos","next","targetArea","excludedArea","fromBottom","fromRight","eventDown","navigator","pointerEnabled","$attrs","$parse","DEFAULT_DIRECTIONS","getResizeDirections","attrValue","wgResizable","directions","MIN_HEIGHT","MIN_WIDTH","ADD_OFFSET","ctrls","registerDragHandler","dragger","containerElement","up","delta","draggerOffset","down","removeAttr","foundCollision","requestedStartPoint","requestedEndPoint","requestedPos","container","offsetHeight","offsetWidth","resizableCtrl","draggers","N","E","S","W","NW","NE","SE","SW","uppercase","isDefined","$compile","Widget","position","editable","widgetOptions","getNodeIndex","elem","previousElementSibling","oldPosition","setPosition","equals","$on","DEFAULT_COLUMNS","DEFAULT_ROWS","factory","computeCellSize","prototype","idx","indexOf","splice","GridRendering","positions","obstructions","cachedNextPosition","undefined","gridWidth","gridHeight","getWidgetIdAt","widgetId","pos","currPosition","setObstructionValues","isNumber","currAreaLimit","currArea","currHeight","currWidth","currMaxPosition","currMaxArea","currMaxRight","maxPosition","maxArea","_isObstructed","ii","jj","expanding","verticalStart","verticalStep","verticalEnd","horizontalStart","horizontalStep","horizontalEnd","toString","display","value","printObstructions","row","console","log","getUID","style","service","renderMaxSize","conflicts","nextPosition","renderClassic","sorted","sortWidgets","needsRepositioning","$templateCache","nextId","curr","comp","found","roundDecimal","decimal","rowCount","columnCount","templateName","get","endPos","topDelta","leftDelta","steps","abs","currStep","currTopDelta","currLeftDelta","run","put"],"mappings":"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"}